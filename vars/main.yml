---

_mariadb_packages:
  default:
    - mariadb-server
    - mariadb-devel
    - python2-mysql
  alpine:
    - mariadb
    - py-mysqldb
  amazon-2018:
    - mysql-server
    - mysql-devel
    - MySQL-python27
  amazon:
    - mariadb-server
    - mariadb-devel
    - MySQL-python
  archlinux:
    - mariadb
  redhat-7:
    - mariadb-devel
    - mariadb-server
    - MySQL-python
  centos-7:
    - mariadb-devel
    - mariadb-server
    - MySQL-python
  centos-8:
    - mariadb-devel
    - mariadb-server
    - python3-PyMySQL
  centos:
    - mysql-devel
    - mysql-server
    - python3-PyMySQL
  debian:
    - mariadb-server
    - python-mysqldb
    - python3-mysqldb
  fedora:
    - mariadb-server
    - mariadb-devel
    - python3-PyMySQL
  ubuntu:
    - mariadb-server
    - python-mysqldb
    - python3-mysqldb
  opensuse leap:
    - libmysqlclient-devel
    - mariadb
    - python-MySQL-python

mariadb_packages: "{{ _mariadb_packages[ansible_distribution | lower~ '-' ~ ansible_distribution_major_version] | default(_mariadb_packages[ansible_distribution | lower] | default(_mariadb_packages['default'])) }}"

_mariadb_service:
  default: mysql
  alpine: mariadb
  amazon: mariadb
  amazon-2018: mysqld
  archlinux: mariadb
  centos-7: mariadb
  centos-8: mariadb
  centos: mariadb
  fedora: mariadb
  redhat-7: mariadb
  redhat: mysqld

mariadb_service: "{{ _mariadb_service[ansible_os_family | lower ~ '-' ~ ansible_distribution_major_version] | default(_mariadb_service[ansible_distribution | lower ~ '-' ~ ansible_distribution_major_version] | default(_mariadb_service[ansible_distribution] | default(_mariadb_service[ansible_os_family] | default(_mariadb_service['default'])))) }}"

_mariadb_messages_dir:
  default: /usr/share/mysql

mariadb_messages_dir: "{{ _mariadb_messages_dir[ansible_os_family | lower ~ '-' ~ ansible_distribution_major_version] | default(_mariadb_messages_dir[ansible_distribution | lower ~ '-' ~ ansible_distribution_major_version] | default(_mariadb_messages_dir[ansible_distribution] | default(_mariadb_messages_dir[ansible_os_family] | default(_mariadb_messages_dir['default'])))) }}"

mariadb_log_directory: /var/log/mysql
mariadb_slow_query_log_file: "{{ mariadb_log_directory }}/mysql-slow.log"
mariadb_log_error: "{{ mariadb_log_directory }}/mysql.error"

mariadb_pid_file: /run/mysqld/mysqld.pid
mariadb_socket: /run/mysqld/mysqld.sock

mariadb_config_dir: /etc/mysql
mariadb_config_include_dir: "{{ mariadb_config_dir }}/conf.d"
